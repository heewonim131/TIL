# Facade pattern
Facade는 건물의 앞쪽 정면 이라는 뜻으로, 건물의 앞쪽만 보이고 뒤쪽은 뭐가 있는지 모르는 형태이다.
여러 개의 객체와 실제 사용하는 서브 객체 사이에 복잡한 의존관계가 있을 때,
중간에 facade라는 객체를 두고 여기서 제공하는 인터페이스만을 활용하여 기능을 사용하는 방식이다.
Facade는 자신이 가지고 있는 각 클래스의 기능을 명확히 알아야 한다.

- FTP(파일 전송 프로토콜)을 통해 파일을 쓰고 읽어오는 예제를 살펴 보자.
- FtpProtocol, FileWriter, FileReader 클래스가 있다.
#### FtpProtocol.java
```
package com.company.design.facade;

public class FtpProtocol {

    public FtpProtocol(String host, int port, String path){
        System.out.println("ftp server create");
    }


    public void connect(){
        System.out.println("ftp server connected");
    }

    public void moveDirectory(){
        System.out.println("move path");
    }

    public void disConnect(){
        System.out.println("ftp server disConnected");
    }
}
```
#### FileWriter.java
```
package com.company.design.facade;

public class FileWriter {

    public FileWriter(String fileName){

    }

    public void fileConnect(){
        System.out.println("FileWriter Connected");
    }

    public void fileWrite(String content){
        System.out.println("write : "+content);
    }

    public void fileDisconnect(){
        System.out.println("FileWriter disConnected");
    }
}
```
#### FileReader.java
```
package com.company.design.facade;

public class FileReader {

    public FileReader(String fileName){

    }

    public void fileConnect(){
        System.out.println("FileReader Connected");
    }

    public String fileRead(){
        return "content";
    }

    public void fileDisconnect(){
        System.out.println("FileReader disConnected");
    }
}
```

파일을 써서 보내고 읽는 작업을 실행한다고 할 때, 다음과 같은 과정으로 진행하게 된다.
1. FTP와 연결하고 디렉토리 이동한다.
2. FileWriter와 연결하고 파일을 쓴다.
3. FileReader와 연결하고 파일을 읽는다.
4. FTP, FileWriter, FileReader와 연결을 끊는다.

#### 이 클래스들의 구조 사이에 모든 의존관계를 포함하는 Facade 객체를 둠으로써 복잡한 구조를 해결할 수 있다.
#### SftpClient.java
```
package com.company.design.facade;

public class SftpClient {

    private FtpProtocol ftpProtocol;
    private FileReader fileReader;
    private FileWriter fileWriter;

    public SftpClient(String host, int port, String path, String fileName){
        this.ftpProtocol = new FtpProtocol(host, port, path);
        this.fileReader = new FileReader(fileName);
        this.fileWriter = new FileWriter(fileName);
    }

    public void connect(){
        this.ftpProtocol.connect();
        this.ftpProtocol.moveDirectory();
        this.fileReader.fileConnect();
        this.fileWriter.fileConnect();

    }

    public void write(String content){
        this.fileWriter.fileWrite(content);
    }

    public String read(){
        return this.fileReader.fileRead();
    }

    public void disConnect(){
        this.fileReader.fileDisconnect();
        this.fileWriter.fileDisconnect();
        this.ftpProtocol.disConnect();
    }

}
```
