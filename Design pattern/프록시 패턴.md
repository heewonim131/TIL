# Proxy pattern
Proxy는 대리인 이라는 뜻을 가지며, 뭔가를 대신해서 처리하는 것을 의미한다.<br>
즉 Proxy Class를 통해 대신 전달하는 형태로 설계되며, 실제 Client는 Proxy로부터 결과를 받는다.<br>
SOLID 중에서 개방 폐쇄 원칙(OCP) 과 의존 역전 원칙(DIP) 을 따른다.

![image](https://user-images.githubusercontent.com/92259017/150339848-22e1a537-63d1-4a3f-8a56-93a094cfacb9.png)

#### Cache의 기능으로도 활용이 가능하다.
인터넷 통신에서 이미 받아둔 결과가 있다면 그 결과를 그대로 내려주거나,
서버에서도 자주 변경되지 않는 데이터 같은 경우 메모리에 캐싱을 해놨다가 같은 요청이 들어왔을 때 결과를 내려주는 형태로 사용된다.

## 프록시 패턴 적용 전
Browser 인터페이스는 html을 보여주는 역할을 하고, 구현체인 ChromeBrowser는 특정 url의 html 객체를 로딩한다.
#### Browser.java
```
package com.company.designpattern.proxy;

public interface Browser {
    Html show();
}
```
#### ChromeBrowser.java
```
package com.company.designpattern.proxy;

public class ChromeBrowser implements Browser{

    private String url;

    public ChromeBrowser(String url) {
        this.url = url;
    }

    @Override
    public Html show() {
        System.out.println("ChromeBrowser loading html from : " + url);
        return new Html(url);
    }
}
```
- 같은 url을 입력받은 객체임에도 show() 메서드를 호출할 때마다 로딩이 되고 있다.

![image](https://user-images.githubusercontent.com/92259017/150148822-9fd65acb-243b-4077-acf5-2216f84a9c63.png)
![image](https://user-images.githubusercontent.com/92259017/150148874-b5fd7aec-9f3e-495d-aa71-fe371cdf92e7.png)

여러번 같은 url을 요청받을 경우 이미 받아둔 결과를 돌려주는 ProxyBrowser를 만들어 보자.

## 프록시 패턴 적용 후
#### ProxyBrowser.java
```
package com.company.designpattern.proxy;

public class ProxyBrowser implements Browser{

    private String url;
    private Html html;

    public ProxyBrowser(String url) {
        this.url = url;
    }

    @Override
    public Html show() {
        if (html == null) {
            this.html = new Html(url);
            System.out.println("ProxyBrowser loading html from : " + url);
        } else {
            System.out.println("ProxyBrowser use cache html : " + url);
        }
        return html;
    }
}
```
![image](https://user-images.githubusercontent.com/92259017/150150104-5c8f1b9e-bdea-4574-bc9a-9fc1aaf7a6f2.png)
![image](https://user-images.githubusercontent.com/92259017/150150177-f74fde29-82fb-4e5f-9bc7-e4eeb6fc6b7f.png)

